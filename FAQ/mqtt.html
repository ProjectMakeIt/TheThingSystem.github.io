<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>

	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="Author" content="The Thing System" />
	<meta name="Keywords" content="Internet of Things, iot, home automation, Thing Sensor Report Protocol, TRSP, Simple Thing Protocol, Cloud, API, steward, curators, Rendezvous Server, Rendezvous Protocol, The Trouble With Things," />
	<meta name="Description" content="Welcome to The Thing System! Your life and your house went from one computer to an Internet of things. From tablets to lightbulbs, from sensors to media boxes, everybody gets their own Internet. Today, you have to fight your things. They don't talk to each other, the apps don't work, it's a tower of babel. Our solution is open source." />

	<title>&#x24E3; the thing system - FAQ</title>

	<link rel="stylesheet" href="../print.css" type="text/css" media="print" />
	<link rel="stylesheet" href="../master.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="../knapsack.css" type="text/css" media="screen" />


	<script type="text/javascript" src="https://law.resource.org/js/sortable.js"></script>

</head>

<body class="leaf">

<div class="header" style="visibility: hidden;">
	<a href="../index.html" class="logo"><img alt="&#x24E3; the thing system" src="../images/thing.system.logo.svg" /></a>
</div>

<div class="main-content">
<ul class="nav">
	<li><a href="index.html" class="select-orange">HOW TO</a></li>
	<ol class="toc-nav">
		<li><span style="color: #0f75bc">â¬¤</span></a> <a href="insteon.html" class="toc">API Issues</a></li>
	</ol>	
</ul>


<div class="content" style="margin-left: 230px;">

<h1 style="margin-top: -80px;">MQTT</h1>

<p>MQTT needs third party software installed. Here's what you need to do:</p>

    <ul>
    <li>set up a broker. mosquito should be fine for this purpose.</li>
    <li>get owntracks running on your mobile device and talking to your broker.</li>
    </ul>

<p><b>then:</b></p>

<p>For the steward, you need to create just one device, /device/indicator/mqtt/text, using the HTML5/D3 client. click on the settings gearbox in the upper-left hand corner, scroll down to cloud services and select mqtt. the username and passphrase should be obvious. the URL has three important parts"</p>

    <ul>
    <li><b>scheme,</b> either 'mqtt://' or 'mqtts://' depending on whether your broker is using encrypted traffic</li>
    <li><b>broker,</b> either the domain name or IP address</li>
    <li><b>topic prefix,</b> which can be blank or something like owntracks/steward</li>
    </ul>

<p>Putting that together you might have:</p>

<code><pre>mqtts://BROKER/owntracks/steward</pre></code>

<p>Then click on 'ADD CLOUD SERVICE'.</p>

<p>The client will automatically subscribe to owntracks/#, so when your mobile device publishes to your broker, the steward will see those entries and automatically create /device/prense/owntracks/mobile devices for you.</p>

</div>

<div class="footer">
	<div class="footer-left"><a href="../index.html" class="green">&uarr;</a> <a href="../index.html" class="yellow">the thing system</a></div>
	<div class="footer-right"><a href="../privacy/index.html" class="yellow">privacy policy</a></div>
</div>

<div class="pulldown styled-select" style="background-color: #fca34c;">
<form method="get" action="http://thethingsystem.com/">
<select name="primary" onchange="parent.location=(this.options[this.selectedIndex].value)">
  <option value="../index.html">Select an Option</option>
  <option value="../things/index.html">The Trouble With Things</option>
  <option value="../dev/index.html">For Implementors</option>
  <option value="../dev/supported-things.html">Supported Things</option>
  <option value="selected">Get The Code</option>
	  <option value="https://drive.google.com/folderview?id=0B27nSHVkupK9a0dCRTJwaUo2WHM&amp;usp=sharing">Get The Disk Image</option>
	  <option value="https://github.com/TheThingSystem/steward">&nbsp;&nbsp;&nbsp;Contribute To The Repo</option>
	  <option value="../code/integrators.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- System Integrators</option>
	  <option value="../code/developers.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Client Developers</option>
	  <option value="../code/node.html">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Node Gurus</option>
	  <option value="../code/enhancements.html">&nbsp;&nbsp;&nbsp;Third-Party Enhancements</option>
  <option value="../dev/Installation.html">Quick Start</option>
  <option value="../meet/index.html">About Us</option>
  <option value="../index.html">&#x24E3;</option>
</select> 
</form>
</div>
</div>

</body>
</html>
