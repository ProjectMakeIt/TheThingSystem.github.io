<!DOCTYPE html PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<title>&#x24E3; the thing system - For Implementors - Architecture</title>
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<link rel="stylesheet" href="../master.css" type="text/css" media="screen" />
</head>

<body alink="#000" bgcolor="#fff" link="#666">

<div class="header">
	<a href="../index.html" class="logo"><img src="../images/thing.system.logo.svg" /></a>
</div>


<div class="main-content">
<ul class="nav">
	<li><a href="../dev/index.html" class="purple select-purple">For Implementors</a></li>
		<ul class="subnav">
			<li><a href="makers.html" class="toc">thing makers</li>
			<li><a href="integrators.html" class="toc">system integrators</a></li>
			<li><a href="clients.html" class="toc">client developers</a></li>			
		</ul>	
	<li style="clear: both;"><a href="lots-of-things.html" class="select-blue">Lots of Things</a></li>
	<li style="clear: both;"><a href="../code/index.html" class="select-orange">Get The Code</a></li>
	<li><a href="../index.html" class="green">&uarr;</a></li>
</ul>


<div class="doc-content">
<div class="content-column-right" style="text-align: center; margin-left: 20px; margin-bottom: 10px;"><a href="thing.architecture.chart.pdf" class="logo"><img src="thing.architecture.chart.outline.svg" style="width: 100%" /></a><br /><span class="annotate">&uarr; Click to download as PDF <span style="color: #666">&#8212; Revised 08.05.13</span></span><br />The Thing System &#8212; Architecture Diagram</div>

<h2>The Thing Architecture</h2>

<p>The Thing Philosophy describes the way the curators think about home automation systems. Whether you agree with this perspective or not, if you're going to use the Thing System, then it's useful to appreciate the philosophy.</p>

<p>Developers: the links in the remainder of this document will take you to the relevant API information!</p>

<p>The steward is the center of the system, monitoring and controlling all sorts of things.</p>

<h3>Communicating with Things</h3>

<p>There are three different protocols that the steward uses to communicate with a thing:</p>

<ol>
<li>Most consumer equipment implements some kind of industry- or manufacturer-specific protocol, which the steward terms a native protocol. Examples of this include Zigbee, Z-Wave, INSTEON, DASH7, and so on. The steward implements many of these native protocols. If a particular native protocol isn't supported, then a developer writes a device driver.</li>

<li>Smart devices have a programmable environment. Examples of this include smart phones, tablets, and the things that attach to them, such as Motrr's Galileo, Romotive's Romo, the Swivl, and so on. The steward implements the Simple Thing Protocol to communicate with these things. The repository contains client libraries for Arduino and iOS to help developers add the Simple Thing Protocol to their applications for these platforms.</li>

<li>Finally, some things don't have any networking or programming capabilities whatsoever. Examples of this are typically small sensors. In order to "network" things like this, a maker attaches an expansion board termed a shield, that contains an inexpensive processor, network interface, and sensor plug. The steward implements the Simple Thing Reporting Protocol to listen for traffic from these things. The repository contains client libraries for Arduino to help developers add the Simple Thing Reporting Protocol to sensors.</li>
</ol>

<h3>Communicating with Clients</h3>

<p>There are three different kinds of clients that the steward interacts with:</p>

<ol>
<li>Native clients are platform-specific (e.g., Android, iOS, and so on). The steward implements a comprehensive set of web services to allow a client to monitor and control things, actors, activities, and the steward.</li>

<li>The steward serves HTML5 files for browsers. The repository contains various HTML5 clients for different tasks.</li>

<li>Apprentices differ from the other two kinds of clients in that once configured they operate autonomously from the user. Each apprentice implements a particular kind of magic. For example, a "vacation apprentice" might monitor when you turn on (or adjust) the lighting in your home. When you tell the apprentice that you are going on vacation, it then emulates that same behavior.</li>
</ol>

<p>Typically, an apprentice starts with by asking a couple of questions in order to construct a prefab. A prefab is an internal structure used by the apprentice in order to guide future actions. For example, a "lighting apprentice" might start by asking you to group the lights in your home into natural units (such as "living room", "entry way", and so on).</p>

<h3>Communicating with the Cloud</h3>

<p>The steward implements the hidden server side of a rendezvous protocol. What that means is that you can have the steward listen for traffic on the Internet while sitting behind your home firewall. The steward implements a (hopefully) robust security model, so clients are required to use either https or wss (secure web sockets) to connect to the steward, and then authenticate themselves using a time-based OTP system. Future implementations of the steward are planned to support ssh in addition to https and wss.</p>

</div>

<div class="footer">
	<div class="footer-left"><a href="../index.html" class="green">&uarr;</a> <a href="../index.html" class="yellow">the thing system</a></div>
	<div class="footer-right"><a href="../code/index.html" class="select-orange">Get The Code</a></div>
</div>

<div class="smallprint"></div>

</body>
</html>
