<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>

	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta name="Author" content="The Thing System" />
	<meta name="Keywords" content="Internet of Things, iot, home automation, Thing Sensor Report Protocol, TRSP, Simple Thing Protocol, Cloud, API, steward, curators, Rendezvous Server, Rendezvous Protocol, The Trouble With Things," />
	<meta name="Description" content="Welcome to The Thing System! Your life and your house went from one computer to an Internet of things. From tablets to lightbulbs, from sensors to media boxes, everybody gets their own Internet. Today, you have to fight your things. They don't talk to each other, the apps don't work, it's a tower of babel. Our solution is open source." />

	<title>&#x24E3; Installation</title>

	<link rel="stylesheet" href="../master.css" type="text/css" media="screen" />

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-44378714-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</head>

<body alink="#000" bgcolor="#fff" link="#666">

<div class="header">
	<a href="../index.html" class="logo"><img alt="&#x24E3; the thing system" src="../images/thing.system.logo.svg" /></a>
</div>


<div class="main-content">
<ul class="nav">
	<li><a href="../dev/index.html" class="purple select-purple">For Implementors</a></li>
	<li style="clear: both;"><a href="Home.html" class="select-pink">Documentation</a></li>
		<ul class="subnav">
			<li><a href="The-Thing-Philosophy.html" class="toc">Philosophy</li>
			<li><a href="The-Thing-Architecture.html" class="toc">The Thing Architecture</a></li>
			<li><a href="Installation.html" class="select-toc">Installation</a> <span style="color: #f05687;">&rarr;</span></li>		
				<ol class="toc-nav">
					<li><a href="Bootstrapping-on-OS-X.html" class="toc">Bootstrapping on OS X</a></li>
					<li><a href="Bootstrapping-the-Raspberry-Pi.html" class="toc">Bootstrapping Raspberry Pi</a></li>
					<li><a href="Bootstrapping-the-BeagleBone.html" class="toc">Bootstrapping BeagleBone</a></li>
					<li><a href="Instructions-for-starting-the-Steward.html" class="toc">Starting the Steward</a></li>
				</ol>			
			<li><a href="Developer.html" class="toc">Developer</a></li>			
		</ul>	
	<li style="clear: both;"><a href="supported-things.html" class="select-green">Supported Things</a></li>
	<li style="clear: both;"><a href="../code/index.html" class="select-orange">Get The Code</a></li>
	<li><a href="../index.html" class="green">&uarr;</a></li>
</ul>


<div class="doc-content">
<h1>Installation</h1>
<p>There are a number of different ways to install the <em>steward</em> software. After installation please see the documentation <a href="Instructions-for-starting-the-Steward.html">on how to start the Steward</a>.</p>

<h2>Installation from source</h2>

<p>If you want to install the <em>steward</em> from source you should follow the appropriate instructions for your platform:</p>

<ul>
<li><p><a href="Bootstrapping-on-OS-X.html">OS X</a> on the Mac</p></li>
<li><p>Raspbian Wheezy on the <a href="Bootstrapping-the-Raspberry-Pi.html">Raspberry Pi</a></p></li>
<li><p>Debian Wheezy on the <a href="Bootstrapping-the-BeagleBone-Black-with-Debian.html">BeagleBone Black</a> and original BeagleBone Rev.A6 (white)</p></li>
</ul>

<p>We also have instructions on <a href="Bootstrapping-the-BeagleBone-Black.html">how to build the steward on the default Angstrom distribution</a> on the BeagleBone Black. However we do not advise this as the build suffers from mDNS and several other problems relating to third party library problems.</p>

<h2>Disk images</h2>

<p>There are raw disk disk images available <a href="https://drive.google.com/folderview?id=0B27nSHVkupK9a0dCRTJwaUo2WHM&amp;usp=sharing">for the Raspberry Pi</a> and <a href="https://drive.google.com/folderview?id=0B27nSHVkupK9a0dCRTJwaUo2WHM&amp;usp=sharing">the BeagleBone</a> based around the latest version of Debian Wheezy for these platforms. You will need a 4GB SD card.</p>

<p>The latest release is <strong>version 1.3</strong>, code named "Rudolf" (23rd December 2013)</p>

<p>The latest Raspberry Pi image is: <a href="https://drive.google.com/folderview?id=0B27nSHVkupK9a0dCRTJwaUo2WHM&amp;usp=sharing">sdcard<em>rpi</em>1.3.img</a> 
MD5 (sdcard<em>rpi</em>1.3.img) = 6e72d50812352c52e387769c4f9f2a6f</p>

<p>The latest Beaglebone Black image is: <a href="https://drive.google.com/folderview?id=0B27nSHVkupK9a0dCRTJwaUo2WHM&amp;usp=sharing">sdcard<em>bbb</em>1.3.img</a> 
MD5 (sdcard<em>bbb</em>1.3.img) = 696cc01ff21838fe5635c5947b21c61b</p>

<p>The Beaglebone Black disk image should also work with the original Beaglebone Rev.A6 (white) but has not been extensively tested.</p>

<h3>Copying the Disk Image to an SD Card</h3>

<p>Insert your SD card into your Macbook. Open up a Terminal window and type df -h, remember the device name for your SD Card. In my case it's /dev/disk1. We'll need to use the raw device, /dev/rdisk1.</p>

<pre><code>Filesystem      Size   Used  Avail Capacity  iused    ifree %iused  Mounted on
/dev/disk0s2   699Gi  367Gi  332Gi    53% 96214802 86992771   53%   /
devfs          206Ki  206Ki    0Bi   100%      714        0  100%   /dev
map -hosts       0Bi    0Bi    0Bi   100%        0        0  100%   /net
map auto_home    0Bi    0Bi    0Bi   100%        0        0  100%   /home
/dev/disk1s1    59Gi   33Gi   26Gi    57%  8739054  6768902   56%   /Volumes/SD Card
</code></pre>

<p>Unmount the card,</p>

<pre><code>sudo diskutil unmount /dev/disk1s1
</code></pre>

<p>rather than ejecting it by dragging it to the trash. Then in the Terminal window change to the directory with your disk image in and type,</p>

<pre><code>sudo dd bs=1m if=sdcard.img of=/dev/rdisk1
</code></pre>

<p>if the above command report an error "dd: bs: illegal numeric value", change bs=1m to bs=1M. </p>

<p>The card should automatically remount when dd is done. Eject the card with the command,</p>

<pre><code>sudo diskutil eject /dev/rdisk1
</code></pre>

<h3>Instructions for the Raspberry Pi</h3>

<p>Insert the SD card in the board, plug in your Bluetooth LE dongle, plug the board into the Ethernet, and then connect the power to start it booting. A red LED will initially come on, however the green ACT LED should start flashing, and the orange FDX and LNK LEDS should light up if the boot works correctly.</p>

<p>When the board boots it should automatically bring up both Bluetooth LE and the Steward.</p>

<h3>Instructions for the Beaglebone Black</h3>

<p>Power the BeagleBone Black down and locate the "User Boot" button. It's located on the top side of the board, directly above the micro SD card slot which is located on the reverse side along with the mini and micro USB sockets.</p>

<p>The BeagleBone Black will try to boot the internal Angstrom image by default. To boot from our SD Card, you’ll need to hold down the User Boot button while powering-on the board. You should see two of the blue lights come on. At this point you can let go of the User Boot button.</p>

<p>When the board boots it should automatically bring up both Bluetooth LE and the Steward.</p>

<p>With the SD Card present in the microSD slot the Beaglebone Black will boot into Debian only if the User Boot button is held as the power is turned on. If you do not hold the User Boot button down on boot the into the default Angstrom distribution which is still present on the internal eMMC.</p>

<p>This can get fairly tedious.You can replace the internal Angstrom image with a "default" Debian distribution—which does not contain the steward or #thethingsystem—but does know to check for the presence of an SD card before booting.</p>

<p>To do this ssh into the Beaglebone—the username and password are both "debian"—and proceed as below,</p>

<pre><code>cd ~
sudo su
wget http://s3.armhf.com/debian/wheezy/bone/debian-wheezy-7.2-armhf-3.8.13-bone30.img.xz
xz -cd debian-wheezy-7.2-armhf-3.8.13-bone30.img.xz &gt; /dev/mmcblk1
</code></pre>

<p>this will take a while. When it is complete your command prompt will return, and the internal eMMC memory will have a default version of Wheezy installed. Since the image is pretty large you should delete it at this point</p>

<pre><code>rm debian-wheezy-7.2-armhf-3.8.13-bone30.img.xz
</code></pre>

<p>To test it has worked you should un-plug the power supply, remove the microSD card and then connect the power again. It should boot back up into Debian.</p>

<p>From this point, to boot from the SD card you simply need to place the card in the microSD slot and connect the power. No more holding down the User Boot button.</p>

<h3>Accessing the steward</h3>

<p>The steward will start automatically when your Raspberry Pi or Beaglebone boots, so after installation please see the documentation on <a href="https://github.com/TheThingSystem/steward/wiki/Instructions-for-starting-the-Steward#authentication">how to authenticate and login to the steward</a>. </p>

<h2>Installation using Package Management</h2>

<p>At the moment installation of the steward from source, and is a fairly complicated and meant for developers. We intend to simplify this process by providing packages for various flavors of Linux as well as <em>MacPorts</em> for OS X. If you're not a developer the easiest way to get started with the steward is probably to use the Raspberry Pi disk images discussed above.</p>

</div>


<div class="footer">
	<div class="footer-left"><a href="../index.html" class="green">&uarr;</a> <a href="../index.html" class="yellow">the thing system</a></div>
	<div class="footer-right"><a href="../code/index.html" class="select-orange">Get The Code</a></div>
</div>

<div class="smallprint"></div>

</body>
</html>
